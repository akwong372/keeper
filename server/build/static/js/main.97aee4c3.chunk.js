(this.webpackJsonpkeeper=this.webpackJsonpkeeper||[]).push([[0],{48:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(7),r=a.n(o),c=a(8),s=a(11),u=a.n(s),m=a(39),i=a.n(m);var d=e=>n.a.createElement("header",null,n.a.createElement("h1",null,n.a.createElement(i.a,null),"Keeper"),e.loggedIn&&n.a.createElement("div",{className:"logoutGroup"},n.a.createElement("p",null,"Hi, ",e.username),n.a.createElement("button",{className:"logoutButton",onClick:e.handleLogout},"Log out "))),g=a(41),E=a.n(g);var h=e=>n.a.createElement("div",{className:"note"},n.a.createElement("h1",null,e.title),n.a.createElement("p",null,e.content),n.a.createElement("button",{onClick:()=>e.deleteNote(e.id)},n.a.createElement(E.a,null)));var b=()=>{const e=(new Date).getFullYear();return n.a.createElement("footer",null,n.a.createElement("p",null,"Copyright \u24d2 ",e))},p=a(22),v=a(42),O=a.n(v),j=a(95),N=a(94),f=a(96);var w=e=>{const t=Object(l.useState)({id:"",title:"",content:""}),a=Object(c.a)(t,2),o=a[0],r=a[1],s=Object(l.useState)(!1),m=Object(c.a)(s,2),i=m[0],d=m[1],g=e=>{const t=e.target,a={[t.name]:t.value};r(e=>Object(p.a)(Object(p.a)({},e),a))};return n.a.createElement("div",null,n.a.createElement("form",{className:"create-note",onSubmit:t=>(t=>{if(t.preventDefault(),o.title.trim()&&o.content.trim()){const t=Object(p.a)(Object(p.a)({},o),{},{id:Object(f.a)()});u.a.post("/note/create",t).then(e=>console.log(e.data)).catch(e=>console.log(e)),e.addNote(t),r(()=>({id:"",title:"",content:""})),d(()=>!1)}})(t)},i&&n.a.createElement("input",{name:"title",placeholder:"Title",onChange:g,value:o.title}),n.a.createElement("textarea",{name:"content",placeholder:"Take a note...",rows:i?3:1,onChange:g,onFocus:()=>{d(()=>!0)},value:o.content}),n.a.createElement(j.a,{in:i,timeout:250},n.a.createElement(N.a,{className:"submitButton",color:"primary","aria-label":"add",type:"submit"},n.a.createElement(O.a,null)))))};var S=e=>n.a.createElement("div",null,n.a.createElement("label",{htmlFor:e.labelFor},e.labelText),n.a.createElement("input",{id:e.type,name:e.type,type:e.type,placeholder:e.placeholder})),y=a(43);var k=e=>n.a.createElement("div",null,n.a.createElement("form",{action:"/auth/login",method:"POST",className:"create-note",onSubmit:t=>e.handleSubmit(t)},n.a.createElement(S,{labelFor:"username",labelText:"Username",type:"username",placeholder:"username here"}),n.a.createElement(S,{labelFor:"password",labelText:"Password",type:"password",placeholder:"password here"}),n.a.createElement("button",{className:"submitButton"},"Login")),n.a.createElement("button",{className:"loginButtons",onClick:e.toggleRegister},"Register New"),n.a.createElement("div",null,n.a.createElement("button",{className:"loginButtons"},n.a.createElement("a",{href:"/auth/google"},n.a.createElement(y.a,{className:"googleIcon",icon:["fab","google"]}),"Sign In With Google"))));var T=e=>n.a.createElement("div",null,n.a.createElement("form",{action:"/auth/register",method:"POST",className:"create-note",onSubmit:t=>e.handleRegister(t)},n.a.createElement(S,{labelFor:"username",labelText:"Username",type:"username",placeholder:"username here"}),n.a.createElement(S,{labelFor:"password",labelText:"Password",type:"password",placeholder:"password here"}),n.a.createElement("button",null,"Register")),n.a.createElement("button",{className:"loginButtons",onClick:e.toggleRegister},"Login Existing")),x=a(21),F=a(44);x.b.add(F.a);var R=()=>{const e=Object(l.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(l.useState)([]),s=Object(c.a)(r,2),m=s[0],i=s[1],g=Object(l.useState)(!0),E=Object(c.a)(g,2),p=E[0],v=E[1],O=Object(l.useState)(""),j=Object(c.a)(O,2),N=j[0],f=j[1],S=Object(l.useState)(""),y=Object(c.a)(S,2),x=y[0],F=y[1];Object(l.useEffect)(()=>{u.a.get("/loggedin").then(e=>{e.data.cookies&&(o(!0),i(e.data.user.notes),f(e.data.user.username))}).catch(e=>{console.log(e)})},[]);const R=e=>{i(t=>[...t,e])},B=e=>{i(t=>t.filter(t=>t.id!==e)),u.a.post("/note/delete",{id:e}).then(e=>console.log(e.data)).catch(e=>console.log(e))},C=e=>n.a.createElement(h,{key:e.id,id:e.id,deleteNote:B,title:e.title,content:e.content}),I=e=>{e.preventDefault();const t={username:e.target[0].value,password:e.target[1].value};u.a.post("/auth/login",t).then(e=>{e.data.authenticated?(o(!0),i(e.data.user.notes),f(e.data.user.username),F("")):F(e.data.message)}).catch(e=>{console.log(e)})},L=e=>{e.preventDefault(),e.persist();const t={username:e.target[0].value,password:e.target[1].value};u.a.post("/auth/register",t).then(e=>{e.data.authenticated?(o(!0),f(e.data.user.username),F("")):F(e.data.message)}).catch(e=>{console.log(e)})},D=()=>{v(!p)};return n.a.createElement("div",null,n.a.createElement(d,{username:N,handleLogout:()=>{u.a.get("/auth/logout").then(()=>{o(!1),i([]),f("")}).catch(e=>console.log(e))},loggedIn:a}),a?n.a.createElement("div",null,n.a.createElement(w,{addNote:R}),m.map(C)):p&&!a?n.a.createElement(T,{handleRegister:L,toggleRegister:D}):n.a.createElement(k,{handleSubmit:I,toggleRegister:D}),n.a.createElement("div",{className:"loginError"},x),n.a.createElement(b,null))};r.a.render(n.a.createElement(R,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.97aee4c3.chunk.js.map